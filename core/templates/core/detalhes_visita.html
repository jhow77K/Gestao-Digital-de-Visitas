{% extends 'core/base.html' %} {% block content %}
{# View styles moved to `core/static/css/site.css` to centralize chip/status appearance. #}

<div class="detalhes-wrap">
  <div class="detalhes-card">
    <div class="detalhes-row">
      <div class="detalhe-meta">
        <div>{{ visita.data_sugerida|date:"d/m/Y" }}</div>
        <div style="margin-top: 8px; font-size: 0.95rem">
          {{ visita.get_periodo_display }}
        </div>

        <div style="margin-top: 12px">
          <span
            class="chip {% if visita.status == 'CONFIRMADO' %}chip-confirmado{% elif visita.status == 'SOLICITADO' %}chip-solicitado{% elif visita.status == 'REALIZADO' %}chip-realizado{% elif visita.status == 'CANCELADO' %}chip-cancelado{% endif %}"
          >
            {{ visita.get_status_display }}
          </span>
        </div>
      </div>

      <div class="detalhe-info">
        <h2 style="margin: 0 0 8px">Detalhes da Visita</h2>

        <div><strong>Responsável:</strong> {{ visita.responsavel }}</div>
        <div><strong>Escola:</strong> {{ visita.escola.nome }}</div>
        <div>
          <strong>Nº Crianças:</strong> {{ visita.numero_previsto_criancas }}
        </div>
        <div>
          <strong>Nº Adultos:</strong> {{ visita.numero_previsto_adultos }}
        </div>


        <div><strong>Agência:</strong> {{ visita.agencia }}</div>

        {% if visita.observacoes %}
        <div style="margin-top: 10px">
          <strong>Observações:</strong>
          <div style="margin-top: 6px; color: #444">
            {{ visita.observacoes }}
          </div>
        </div>
        {% endif %}

        <div class="acoes">
          <a href="{% url 'home' %}" class="btn btn-back"
            >← Voltar</a
          >
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
